direktiv_api: page/v1
type: page
blocks:
  - type: query-provider
    queries:
      - id: user
        url: /ns/demo/user-details
        queryParams: []
    blocks:
      - type: form
        trigger:
          type: button
          label: form
        mutation:
          id: form
          method: POST
          url: /form
        blocks:
          - type: headline
            level: h1
            label: Pre-filled form
          - type: card
            blocks:
              - id: string
                label: string input
                description: ""
                optional: false
                type: form-string-input
                variant: text
                defaultValue: "This data comes from the API ->
                  string:{{query.user.data.status}},
                  number: {{query.user.data.userId}}, boolean:
                  {{query.user.data.emailVerified}}"
              - id: textarea
                label: textarea
                description: ""
                optional: false
                type: form-textarea
                defaultValue: "This data comes from the API ->
                  string:{{query.user.data.status}},
                  number: {{query.user.data.userId}}, boolean:
                  {{query.user.data.emailVerified}}"
          - type: card
            blocks:
              - type: columns
                blocks:
                  - type: column
                    blocks:
                      - id: static-checkbox
                        label: static checkbox
                        description: default values is always checked
                        optional: false
                        type: form-checkbox
                        defaultValue:
                          type: boolean
                          value: true
                      - id: static-number-input
                        label: static number input
                        description: default value is always 3
                        optional: false
                        type: form-number-input
                        defaultValue:
                          type: number
                          value: 3
                      - id: static-date
                        label: static date
                        description: default value is always 2025-12-24
                        optional: false
                        type: form-date-input
                        defaultValue: 2025-12-24
                      - id: static-select
                        label: static select
                        description: default value is always two
                        optional: false
                        type: form-select
                        values:
                          - one
                          - two
                          - three
                        defaultValue: two
                  - type: column
                    blocks:
                      - id: dynamic-checkbox
                        label: dynamic checkbox
                        description: default value comes from the api
                          ({{query.user.data.emailVerified}})
                        optional: false
                        type: form-checkbox
                        defaultValue:
                          type: variable
                          value: query.user.data.emailVerified
                      - id: dynamic-number-input
                        label: dynamic number input
                        description: default value comes from API ({{query.user.data.accountBalance}})
                        optional: false
                        type: form-number-input
                        defaultValue:
                          type: variable
                          value: query.user.data.accountBalance
                      - id: dynamic-date
                        label: dynamic date
                        description: default value comes from the api
                          ({{query.user.data.membershipStartDate}})
                        optional: false
                        type: form-date-input
                        defaultValue: "{{query.user.data.membershipStartDate}}"
          - type: headline
            level: h2
            label: error cases
          - type: card
            blocks:
              - type: text
                content:
                  These form elements demonstrate various error cases when using a
                  variable that has an invalid type for the specific use case.
              - id: textarea-using-an-object
                label: invalid textarea
                description: This textarea is using an object in the template string
                optional: false
                type: form-textarea
                defaultValue: "{{query.user.data}}"
              - id: checkbox-pointing-to-string
                label: invalid checkbox
                description: This checkbox is pointing to a string for the default value
                optional: false
                type: form-checkbox
                defaultValue:
                  type: variable
                  value: query.user.data.status
              - id: number-using-string
                label: invalid number inpuit
                description: This number input is pointing to a string for the default value
                optional: false
                type: form-number-input
                defaultValue:
                  type: variable
                  value: query.user.data.status
