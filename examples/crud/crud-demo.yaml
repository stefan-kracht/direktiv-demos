direktiv_api: page/v1
type: page
blocks:
  - type: headline
    level: h1
    label: ThunderCorp International
  - type: columns
    blocks:
      - type: column
        blocks:
          - type: image
            src: https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/dream-world/25.svg
            width: 200
            height: 200
      - type: column
        blocks:
          - type: headline
            level: h3
            label: "CEO: Pikachu"
          - type: text
            content:
              Pikachu is the CEO of ThunderCorp International, known for his
              energetic leadership and iconic rise from pop culture mascot to
              business figure. With a shockingly sharp strategy, he leads with
              agility, loyalty, and charm.
          - type: dialog
            trigger:
              type: button
              label: Read more
            blocks:
              - type: text
                content:
                  Under Pikachu's leadership, ThunderCorp has expanded into cutting-edge
                  sectors including sustainable energy, gamified wellness
                  platforms, and AI-driven entertainment. His approach blends
                  instinctive decision-making with deep emotional intelligence,
                  earning him a reputation as both a visionary and a team-first
                  executive. Despite his small stature, Pikachu commands
                  attention in boardrooms worldwide, often communicating through
                  subtle gestures, electrifying presence, and the occasional
                  “Pika” punctuated with purpose. A firm believer in
                  evolution—both personal and organizational—he champions growth
                  through adaptation, partnership, and a relentless commitment
                  to staying one step ahead in an ever-changing landscape.
  - type: query-provider
    queries:
      - id: persons
        url: /ns/demo/persons
        queryParams: []
    blocks:
      - type: headline
        level: h1
        label: "{{query.persons.data.total}} employees"
      - type: table
        data:
          type: loop
          id: person
          data: query.persons.data.data
          pageSize: 10
        blocks:
          - type: table-actions
            blocks:
              - type: dialog
                trigger:
                  type: button
                  label: seed database
                blocks:
                  - type: form
                    trigger:
                      type: button
                      label: Seed Database
                    mutation:
                      method: POST
                      url: /ns/demo/actions/seed-database
                    blocks:
                      - type: headline
                        level: h3
                        label: Seed database
                      - type: text
                        content: Do you want to seed the database with a sample set of data?
              - type: dialog
                trigger:
                  type: button
                  label: empty database
                blocks:
                  - type: form
                    trigger:
                      type: button
                      label: empy database
                    mutation:
                      method: POST
                      url: /ns/demo/delete-all-persons
                    blocks:
                      - type: headline
                        level: h3
                        label: Empty database
                      - type: text
                        content: Do you want to empty the database?
          - type: row-actions
            blocks:
              - type: dialog
                trigger:
                  type: button
                  label: delete
                blocks:
                  - type: form
                    trigger:
                      type: button
                      label: Delete
                    mutation:
                      method: DELETE
                      url: /ns/demo/delete-person/{{loop.person.id}}
                    blocks:
                      - type: text
                        content: Are you sure you want to delte {{loop.person.first_name}}
        columns:
          - type: table-column
            label: id
            content: "{{loop.person.id}}"
          - type: table-column
            label: first name
            content: "{{loop.person.first_name}}"
          - type: table-column
            label: last name
            content: "{{loop.person.last_name}}"
          - type: table-column
            label: email
            content: "{{loop.person.email}}"
